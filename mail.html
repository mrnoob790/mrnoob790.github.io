<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Sandboxed Mailto Safe PoC</title>
</head>
<body>
  <h2>Sandboxed Mailto (No Escape)</h2>

  <iframe id="sandboxFrame" sandbox="allow-scripts" width="400" height="200"></iframe>

  <script>
    const iframe = document.getElementById('sandboxFrame');

    iframe.srcdoc = `
      <h3>Sandboxed iframe</h3>
      <button id="openMail">Try Mail</button>
      <p id="status"></p>
      <script>
        document.getElementById('openMail').addEventListener('click', () => {
          try {
            window.location.href = "mailto:test@example.com?subject=PoC&body=Hello";
            document.getElementById('status').innerText = "Attempted to open mail client.";
          } catch(e) {
            document.getElementById('status').innerText = "Blocked by sandbox.";
          }
        });
      <\/script>
    `;
  </script>
</body>
</html>
